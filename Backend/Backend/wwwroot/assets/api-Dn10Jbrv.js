import{b as s}from"./index-BkwN6ugi.js";const r="http://localhost:5001",i=async t=>{try{const e=await s.get(`${r}/api/chat/messages/${t}`);return!e.data.messages||e.data.messages.length===0?[]:e.data.messages.map(a=>({senderId:a.senderId,messageContent:a.messageContent,sentAt:a.sentAt?new Date(a.sentAt).toLocaleTimeString():"Unknown"}))}catch{return[]}},h=async()=>{try{return(await s.get(`${r}/api/chat/sessions/user`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch{return[]}},d=async t=>{try{await s.post(`${r}/api/chat/mark-read/${t}`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})}catch(e){throw e}},p=async(t,e,a)=>{const n={senderId:a,messageContent:e};return(await s.post(`${r}/api/chat/send/${t}`,n)).data},g=async(t,e)=>{const a={messageContent:e};return(await s.post(`${r}/api/chat/send/${t}`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data},l=async t=>{try{return(await s.delete(`${r}/api/chat/sessions/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(e){throw e}};export{h as a,g as b,l as d,i as f,d as m,p as s};
