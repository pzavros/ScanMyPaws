import{q as ie,s as oe,l as G,p as _,t as F,v as w,w as E,x as N,r as d,y as se,z as ce,j as s,A as le,C as ue,E as he,F as fe,R as $,b as ee,B as q,G as de,c as A,M as pe,f as me,S as ge}from"./index-BkwN6ugi.js";import{P as H}from"./Page-nSfMCqEi.js";import{B as J}from"./Button-CqxvuVq1.js";import{A as Z}from"./Alert-BQ6Usg0_.js";import{T as f}from"./TextField-Xo4kt7zH.js";import{L as ve}from"./LoadingIndicator-CnG4_zX-.js";import"./Grow-CBhhKj-Z.js";import"./isHostComponent-DVu5iVWx.js";import"./isMuiElement-BIwZpEg9.js";import"./Select-CVW7Cr0N.js";import"./List-CSE9cjs2.js";function xe(e){return ie("MuiLinearProgress",e)}oe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const T=4,z=G`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,be=typeof z!="string"?_`
        animation: ${z} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Q=G`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,ye=typeof Q!="string"?_`
        animation: ${Q} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,U=G`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Pe=typeof U!="string"?_`
        animation: ${U} 3s infinite linear;
      `:null,Ce=e=>{const{classes:t,variant:n,color:r}=e,a={root:["root",`color${w(r)}`,n],dashed:["dashed",`dashedColor${w(r)}`],bar1:["bar","bar1",`barColor${w(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${w(r)}`,n==="buffer"&&`color${w(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return ue(a,xe,t)},Y=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?he(e.palette[t].main,.62):fe(e.palette[t].main,.5),we=F("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${w(n.color)}`],t[n.variant]]}})(E(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(N()).map(([t])=>({props:{color:t},style:{backgroundColor:Y(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ie=F("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${w(n.color)}`]]}})(E(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(N()).map(([t])=>{const n=Y(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),Pe||{animation:`${U} 3s infinite linear`}),Me=F("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${w(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(E(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(N()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${T}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${T}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:be||{animation:`${z} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Oe=F("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${w(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(E(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(N()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(N()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:Y(e,t),transition:`transform .${T}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:ye||{animation:`${Q} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Se=d.forwardRef(function(t,n){const r=se({props:t,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:o,valueBuffer:c,variant:p="indeterminate",...x}=r,l={...r,color:i,variant:p},b=Ce(l),I=ce(),y={},P={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&o!==void 0){y["aria-valuenow"]=Math.round(o),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let u=o-100;I&&(u=-u),P.bar1.transform=`translateX(${u}%)`}if(p==="buffer"&&c!==void 0){let u=(c||0)-100;I&&(u=-u),P.bar2.transform=`translateX(${u}%)`}return s.jsxs(we,{className:le(b.root,a),ownerState:l,role:"progressbar",...y,ref:n,...x,children:[p==="buffer"?s.jsx(Ie,{className:b.dashed,ownerState:l}):null,s.jsx(Me,{className:b.bar1,ownerState:l,style:P.bar1}),p==="determinate"?null:s.jsx(Oe,{className:b.bar2,ownerState:l,style:P.bar2})]})});var D={linear:function(e,t,n,r){var a=n-t;return a*e/r+t},easeInQuad:function(e,t,n,r){var a=n-t;return a*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var a=n-t;return-a*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var a=n-t;return-a*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var a=n-t;return-a*Math.cos(e/r*(Math.PI/2))+a+t},easeOutSine:function(e,t,n,r){var a=n-t;return a*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var a=n-t;return-a/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var a=n-t;return e==0?t:a*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var a=n-t;return e==r?t+a:a*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var a=n-t;return e===0?t:e===r?t+a:(e/=r/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var a=n-t;return-a*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var a=n-t;return a*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var a=n-t,i,o,c;return c=1.70158,o=0,i=a,e===0?t:(e/=r)===1?t+a:(o||(o=r*.3),i<Math.abs(a)?(i=a,c=o/4):c=o/(2*Math.PI)*Math.asin(a/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var a=n-t,i,o,c;return c=1.70158,o=0,i=a,e===0?t:(e/=r)===1?t+a:(o||(o=r*.3),i<Math.abs(a)?(i=a,c=o/4):c=o/(2*Math.PI)*Math.asin(a/i),i*Math.pow(2,-10*e)*Math.sin((e*r-c)*(2*Math.PI)/o)+a+t)},easeInOutElastic:function(e,t,n,r){var a=n-t,i,o,c;return c=1.70158,o=0,i=a,e===0?t:(e/=r/2)===2?t+a:(o||(o=r*(.3*1.5)),i<Math.abs(a)?(i=a,c=o/4):c=o/(2*Math.PI)*Math.asin(a/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/o)*.5+a+t)},easeInBack:function(e,t,n,r,a){var i=n-t;return a===void 0&&(a=1.70158),i*(e/=r)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,r,a){var i=n-t;return a===void 0&&(a=1.70158),i*((e=e/r-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,r,a){var i=n-t;return a===void 0&&(a=1.70158),(e/=r/2)<1?i/2*(e*e*(((a*=1.525)+1)*e-a))+t:i/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,n,r){var a=n-t,i;return i=D.easeOutBounce(r-e,0,a,r),a-i+t},easeOutBounce:function(e,t,n,r){var a=n-t;return(e/=r)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,r){var a=n-t,i;return e<r/2?(i=D.easeInBounce(e*2,0,a,r),i*.5+t):(i=D.easeOutBounce(e*2-r,0,a,r),i*.5+a*.5+t)}},je=D;function Ne(e){return e*Math.PI/180}function m(e,t){return e+Math.random()*(t-e)}function ke(e,t){return Math.floor(e+Math.random()*(t-e+1))}var j;(function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"})(j||(j={}));var O;(function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"})(O||(O={}));class Be{constructor(t,n,r,a){this.getOptions=n;const{colors:i,initialVelocityX:o,initialVelocityY:c}=this.getOptions();this.context=t,this.x=r,this.y=a,this.w=m(5,20),this.h=m(5,20),this.radius=m(5,10),this.vx=typeof o=="number"?m(-o,o):m(o.min,o.max),this.vy=typeof c=="number"?m(-c,0):m(c.min,c.max),this.shape=ke(0,2),this.angle=Ne(m(0,360)),this.angularSpin=m(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=m(0,1),this.rotationDirection=m(0,1)?O.Positive:O.Negative}update(){const{gravity:t,wind:n,friction:r,opacity:a,drawShape:i}=this.getOptions();this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=r,this.vy*=r,this.rotateY>=1&&this.rotationDirection===O.Positive?this.rotationDirection=O.Negative:this.rotateY<=-1&&this.rotationDirection===O.Negative&&(this.rotationDirection=O.Positive);const o=.1*this.rotationDirection;if(this.rotateY+=o,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,i&&typeof i=="function")i.call(this,this.context);else switch(this.shape){case j.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case j.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case j.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class Re{constructor(t,n){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenInitTime=Date.now(),this.particles=[],this.particlesGenerated=0,this.removeParticleAt=a=>{this.particles.splice(a,1)},this.getParticle=()=>{const a=m(this.x,this.w+this.x),i=m(this.y,this.h+this.y);return new Be(this.context,this.getOptions,a,i)},this.animate=()=>{const{canvas:a,context:i,particlesGenerated:o,lastNumberOfPieces:c}=this,{run:p,recycle:x,numberOfPieces:l,debug:b,tweenFunction:I,tweenDuration:y}=this.getOptions();if(!p)return!1;const P=this.particles.length,u=x?P:o,S=Date.now();if(u<l){c!==l&&(this.tweenInitTime=S,this.lastNumberOfPieces=l);const{tweenInitTime:g}=this,M=S-g>y?y:Math.max(0,S-g),h=I(M,u,l,y),v=Math.round(h-u);for(let k=0;k<v;k++)this.particles.push(this.getParticle());this.particlesGenerated+=v}return b&&(i.font="12px sans-serif",i.fillStyle="#333",i.textAlign="right",i.fillText(`Particles: ${P}`,a.width-10,a.height-20)),this.particles.forEach((g,M)=>{g.update(),(g.y>a.height||g.y<-100||g.x>a.width+100||g.x<-100)&&(x&&u<=l?this.particles[M]=this.getParticle():this.removeParticleAt(M))}),P>0||u<l},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.getOptions=n}}const V={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:je.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Ae{constructor(t,n){this.lastFrameTime=Date.now(),this.setOptionsWithDefaults=a=>{const i={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...i,...V,...a},Object.assign(this,a.confettiSource)},this.update=()=>{const{options:{run:a,onConfettiComplete:i,frameRate:o},canvas:c,context:p}=this;if(o){const x=Date.now(),l=x-this.lastFrameTime;if(l<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=x-l%o}a&&(p.fillStyle="white",p.clearRect(0,0,c.width,c.height)),this.generator.animate()?this.rafId=requestAnimationFrame(this.update):(i&&typeof i=="function"&&this.generator.particlesGenerated>0&&i.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new Re(this.canvas,()=>this.options),this.options=n,this.update()}get options(){return this._options}set options(t){var a,i;const n=(a=this._options)==null?void 0:a.run,r=(i=this._options)==null?void 0:i.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&r===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&n===!1&&this.update()}}const De=$.createRef();class X extends $.Component{constructor(t){super(t),this.canvas=$.createRef(),this.canvas=t.canvasRef||De}componentDidMount(){if(this.canvas.current){const t=L(this.props)[0];this.confetti=new Ae(this.canvas.current,t)}}componentDidUpdate(){const t=L(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=L(this.props),r={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return s.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:r})}}X.defaultProps={...V};X.displayName="ReactConfetti";function L(e){const t={},n={},r={},a=[...Object.keys(V),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in e){const c=e[o];a.includes(o)?t[o]=c:i.includes(o)?i[o]=c:r[o]=c}return[t,r,n]}const $e=$.forwardRef((e,t)=>s.jsx(X,{canvasRef:t,...e})),te="http://localhost:5001",re=async e=>{if(!e)throw new Error("petId is required");try{return(await ee.get(`${te}/api/PetProfile/${e}`)).data}catch(t){throw t}},Fe=async e=>{try{return(await ee.post(`${te}/api/PetCard`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(t){throw t}},Ee=({petId:e})=>{const[t,n]=d.useState({fullName:"",mobilePhone1:"",mobilePhone2:"",address:"",alternativeContactName:"",alternativeContactPhone:"",importantInformation:"",additionalInfo:"",specialNotes:""}),[r,a]=d.useState(null),[i,o]=d.useState(!0),[c,p]=d.useState(0),[x,l]=d.useState(""),[b,I]=d.useState(""),[y,P]=d.useState(!1),[u,S]=d.useState(!1),[g,M]=d.useState(!1),h={backgroundColor:"var(--input-background)",borderRadius:"8px",label:{color:"var(--text-color)"},input:{color:"var(--text-color)"},"& .MuiOutlinedInput-input":{color:"var(--text-color)"},"& .MuiOutlinedInput-multiline":{color:"var(--text-color) !important"},"& .MuiInputBase-inputMultiline":{color:"var(--text-color) !important"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"var(--input-border-color)"},"&:hover fieldset":{borderColor:"var(--secondary-color)"},"&.Mui-focused fieldset":{borderColor:"var(--primary-color)"}}};d.useEffect(()=>{(async()=>{try{const C=await re(e);a(C)}catch(C){console.error("Error fetching pet details:",C),I("Failed to fetch pet details. Please try again later.")}finally{o(!1)}})()},[e]),d.useEffect(()=>{u&&window.scrollTo({top:0,behavior:"smooth"})},[u]);const v=B=>{const{name:C,value:R}=B.target;n({...t,[C]:R})},k=async B=>{B.preventDefault(),l(""),I(""),S(!0),M(!1);try{const C=localStorage.getItem("token"),R=JSON.parse(atob(C.split(".")[1])),K=parseInt(R.UserID||R.userID,10);if(!K)throw new Error("User ID not found in the token.");const ae={petId:e,userID:K,fullName:t.fullName,mobilePhone1:t.mobilePhone1,mobilePhone2:t.mobilePhone2,address:t.address,alternativeContactName:t.alternativeContactName,alternativeContactPhone:t.alternativeContactPhone,importantInformation:t.importantInformation,additionalInfo:t.additionalInfo,petName:r.petName,breedName:r.breedName,age:r.age,sex:r.sex,specialNotes:r.specialNotes,photo:r.photo,weight:r.weight,size:r.size};(()=>{let W=0;const ne=setInterval(()=>{W+=33,p(W),W>=100&&clearInterval(ne)},1e3)})(),await Fe(ae),M(!0),l("Pet card created successfully!"),P(!0)}catch(C){console.error("Error creating pet card:",C),M(!1),I("Failed to create pet card. Please try again.")}};return i?s.jsxs(q,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:[s.jsx(de,{}),s.jsx(A,{sx:{ml:2},children:"Loading pet details..."})]}):s.jsxs(q,{component:"form",sx:{display:"flex",flexDirection:"column",gap:3,maxWidth:600,margin:"0 auto",mt:4},onSubmit:k,children:[s.jsxs(A,{variant:"h4",sx:{textAlign:"center",mb:3,fontWeight:"bold",color:"var(--primary-color)"},children:["Create Pet Card for ",r==null?void 0:r.petName]}),b&&s.jsx(Z,{severity:"error",children:b}),x&&s.jsx(Z,{severity:"success",children:x}),s.jsx(f,{label:"Pet Name",value:(r==null?void 0:r.petName)||"",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Breed",value:(r==null?void 0:r.breedName)||"",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Age",value:(r==null?void 0:r.age)||"N/A",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Sex",value:(r==null?void 0:r.sex)||"N/A",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Weight",value:(r==null?void 0:r.weight)||"N/A",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Size",value:(r==null?void 0:r.size)||"N/A",fullWidth:!0,InputProps:{readOnly:!0},sx:h}),s.jsx(f,{label:"Special Notes",name:"specialNotes",value:(r==null?void 0:r.specialNotes)||"",onChange:v,fullWidth:!0,multiline:!0,rows:3,sx:h}),s.jsx(f,{label:"Full Name *",name:"fullName",value:t.fullName,onChange:v,fullWidth:!0,required:!0,sx:h}),s.jsx(f,{label:"Mobile Phone 1 *",name:"mobilePhone1",value:t.mobilePhone1,onChange:v,fullWidth:!0,required:!0,sx:h}),s.jsx(f,{label:"Mobile Phone 2",name:"mobilePhone2",value:t.mobilePhone2,onChange:v,fullWidth:!0,sx:h}),s.jsx(f,{label:"Address *",name:"address",value:t.address,onChange:v,fullWidth:!0,required:!0,sx:h}),s.jsx(f,{label:"Alternative Contact Name",name:"alternativeContactName",value:t.alternativeContactName,onChange:v,fullWidth:!0,sx:h}),s.jsx(f,{label:"Alternative Contact Phone",name:"alternativeContactPhone",value:t.alternativeContactPhone,onChange:v,fullWidth:!0,sx:h}),s.jsx(f,{label:"Important Information",name:"importantInformation",value:t.importantInformation,onChange:v,multiline:!0,rows:3,fullWidth:!0,sx:h}),s.jsx(f,{label:"Additional Info",name:"additionalInfo",value:t.additionalInfo,onChange:v,multiline:!0,rows:4,fullWidth:!0,sx:h}),s.jsx(J,{type:"submit",fullWidth:!0,disabled:c>0&&c<100,sx:{fontSize:"1rem",height:"48px",borderRadius:"8px",background:"linear-gradient(90deg, rgba(255,111,97,1) 0%, rgba(255,165,97,1) 100%)",color:"#fff","&:hover":{background:"linear-gradient(90deg, rgba(255,165,97,1) 0%, rgba(255,111,97,1) 100%)"}},children:"Generate Pet Card"}),s.jsx(pe,{open:u,onClose:()=>{},children:s.jsxs(q,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"var(--card-background)",color:"var(--text-color)",borderRadius:4,padding:4,width:300,margin:"auto",mt:10},children:[s.jsx(A,{children:g?"Success!":"Processing..."}),s.jsx(Se,{variant:"determinate",value:c,sx:{width:"100%",my:2}}),g?s.jsx(J,{variant:"contained",onClick:()=>window.location.href=`/petcard/${e}`,sx:{backgroundColor:"var(--button-background)","&:hover":{backgroundColor:"var(--button-hover-background)"}},children:"View Card"}):!g&&s.jsx(A,{sx:{color:"var(--error-color)"},children:b})]})}),y&&s.jsx($e,{width:window.innerWidth,height:window.innerHeight})]})},Ke=()=>{const{petId:e}=me(),[t,n]=d.useState(null),[r,a]=d.useState(!0);return d.useEffect(()=>{(async()=>{try{if(!e)throw new Error("Pet ID is not defined");const o=await re(e);n(o)}catch(o){console.error("Error fetching pet details:",o)}finally{a(!1)}})()},[e]),r?s.jsx(H,{children:s.jsx(ve,{message:"Loading pet details..."})}):s.jsx(H,{children:s.jsx(ge,{children:s.jsx(Ee,{petId:e,petDetails:t})})})};export{Ke as default};
