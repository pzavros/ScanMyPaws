import{b as l,f as h,r as s,j as o,S as p,B as u,T as n}from"./index-BkwN6ugi.js";import{P as x}from"./Page-nSfMCqEi.js";import{R as y,C as m}from"./Card-CINt_dWY.js";import{S as f}from"./SectionTitle-BIhqTMd9.js";const j="http://localhost:5001",g=async a=>{try{return(await l.get(`${j}/api/PetLocation/history/${a}`)).data}catch{return[]}},w=()=>{const{petId:a}=h(),[e,i]=s.useState([]);s.useEffect(()=>{(async()=>{try{if(!a)return;const r=await g(a);i(r)}catch(r){console.error("Failed to fetch location history:",r)}})()},[a]);const c=(t,r)=>{if(!t||!r)return;const d=`https://www.google.com/maps?q=${t},${r}`;window.open(d,"_blank")};return o.jsx(p,{children:o.jsxs(u,{mb:3,children:[o.jsx(f,{mb:1,children:"Pet Location History"}),o.jsx(y,{children:e.length===0?o.jsx(n,{variant:"body1",align:"center",children:"No location history found."}):e.map((t,r)=>o.jsxs(m,{children:[o.jsx(n,{variant:"body1",fontWeight:"bold",sx:{cursor:t.latitude&&t.longitude?"pointer":"default",color:"var(--primary-color)"},onClick:()=>c(t.latitude,t.longitude),children:"Click to view location"}),o.jsxs(n,{variant:"body2",children:["Found by: ",t.finderName," (",t.finderContact,")"]}),o.jsx(n,{variant:"caption",color:"gray",children:new Date(t.dateFound).toLocaleString()})]},r))})]})})},v=()=>o.jsx(x,{children:o.jsx(w,{})});export{v as default};
